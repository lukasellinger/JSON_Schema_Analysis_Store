{
  "id": "lineage.json#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "Information on the history of the resource.",
  "example": "../examples/lineage.json",
  "translation": {
    "ISO 19115-2": [
      "LI_Lineage"
    ]
  },
  "additionalProperties": true,
  "anyOf": [
    {
      "title": "statement is required",
      "required": [
        "statement"
      ],
      "description": "A statement is required."
    },
    {
      "title": "source is required",
      "required": [
        "source"
      ],
      "description": "At least one source is required."
    },
    {
      "title": "processStep is required",
      "required": [
        "processStep"
      ],
      "description": "At least one processStep is required."
    }
  ],
  "properties": {
    "statement": {
      "type": "string",
      "description": "A general statement of the actions taken to verify, transform, repair, and integrate the data within the data quality scope.",
      "translation": {
        "ISO 19115-2": [
          "LI_Lineage \u003e statement"
        ]
      }
    },
    "scope": {
      "$ref": "./scope.json#",
      "description": "Type of resource and/or extent to which the lineage information applies.",
      "translation": {}
    },
    "citation": {
      "type": "array",
      "description": "Citation to a reference that describes the lineage.",
      "translation": {},
      "items": {
        "$ref": "./citation.json#"
      }
    },
    "processStep": {
      "type": "array",
      "description": "A brief statement describing an individual, non-trivial process or methodology step taken in development of the resource data within the data quality scope.",
      "translation": {
        "ISO 19115-2": [
          "LI_Lineage \u003e processStep \u003e LI_ProcessStep"
        ]
      },
      "items": {
        "$ref": "#/definitions/processStep"
      }
    },
    "source": {
      "type": "array",
      "description": "Information about the source data used in creating the data identified by the data quality scope.",
      "translation": {
        "ISO 19115-2": [
          "LI_Lineage \u003e source \u003e LI_Source"
        ],
        "FGDC CSDGM": [
          "dataqual \u003e lineage \u003e srcinfo"
        ]
      },
      "items": {
        "$ref": "#/definitions/source"
      }
    }
  },
  "definitions": {
    "processStep": {
      "type": "object",
      "description": "Process or methodology steps applied to development of the resource.",
      "example": "../examples/processStep.json",
      "translation": {
        "ISO 19115-2": [
          "LI_ProcessStep"
        ]
      },
      "required": [
        "description"
      ],
      "additionalProperties": true,
      "properties": {
        "stepId": {
          "type": "string",
          "description": "Serial identifier used to order the sequence of steps used.",
          "translation": {
            "ISO 19115-2": [
              "LI_ProcessStep @ id"
            ]
          }
        },
        "description": {
          "type": "string",
          "description": "Description of the process or methodology step.",
          "translation": {
            "ISO 19115-2": [
              "LI_ProcessStep \u003e description"
            ],
            "FGDC CSDGM": [
              "dataqual \u003e lineage \u003e procstep \u003e procdesc"
            ]
          }
        },
        "rationale": {
          "type": "string",
          "description": "Requirement or purpose for the process or methodology step.",
          "translation": {
            "ISO 19115-2": [
              "LI_ProcessStep \u003e rationale"
            ]
          }
        },
        "timePeriod": {
          "description": "Date, datetime, or period at which the process or methodology step occurred.",
          "translation": {
            "ISO 19115-2": [
              "LI_ProcessStep \u003e dateTime"
            ],
            "FGDC CSDGM": [
              "dataqual \u003e lineage \u003e procstep \u003e procdate"
            ]
          },
          "$ref": "./timePeriod.json#"
        },
        "processor": {
          "type": "array",
          "description": "Identification of, and means of communication with, person(s) and organization(s) associated with the process or methodology step.",
          "translation": {
            "ISO 19115-2": [
              "LI_ProcessStep \u003e processor \u003e CI_ResponsibleParty"
            ],
            "FGDC CSDGM": [
              "dataqual \u003e lineage \u003e procstep \u003e proccont \u003e cntinfo"
            ]
          },
          "items": {
            "$ref": "./responsibility.json#"
          }
        },
        "stepSource": {
          "type": "array",
          "description": "Information about the source data used in the process step.",
          "translation": {
            "ISO 19115-2": [
              "DQ_DataQuality \u003e LI_Lineage \u003e LI_ProcessStep \u003e LI_source"
            ],
            "FGDC CSDGM": [
              "dataqual \u003e lineage \u003e procstep \u003e srcused"
            ]
          },
          "items": {
            "$ref": "#/definitions/source"
          }
        },
        "stepProduct": {
          "type": "array",
          "description": "Information about an intermediate data set that (1) is significant in the opinion of the data producer, (2) is generated in the processing step, and (3) is used in later processing steps.",
          "translation": {
            "ISO 19115-2": [
              "DQ_DataQuality \u003e LI_Lineage \u003e LI_ProcessStep \u003e LI_source"
            ],
            "FGDC CSDGM": [
              "dataqual \u003e lineage \u003e procstep \u003e srcprod"
            ]
          },
          "items": {
            "$ref": "#/definitions/source"
          }
        },
        "reference": {
          "type": "array",
          "description": "Citation for process step documentation.",
          "translation": {},
          "items": {
            "$ref": "./citation.json#"
          }
        },
        "scope": {
          "$ref": "./scope.json#",
          "description": "Type of resource and/or extent to which the process information.",
          "translation": {}
        }
      }
    },
    "source": {
      "type": "object",
      "description": "Information about the source data used in creating the data identified by the data quality scope.",
      "example": "../examples/source.json",
      "translation": {
        "ISO 19115-2": [
          "LI_Source"
        ]
      },
      "additionalProperties": true,
      "anyOf": [
        {
          "title": "description  is required",
          "required": [
            "description"
          ],
          "description": "A description  is required."
        },
        {
          "title": "scope  is required",
          "required": [
            "scope"
          ],
          "description": "At least one scope is required."
        }
      ],
      "properties": {
        "sourceId": {
          "type": "string",
          "description": "A unique identifier for the data source.",
          "translation": {
            "FGDC CSDGM": [
              "dataqual \u003e lineage \u003e srcinfo \u003e srccitea"
            ]
          }
        },
        "description": {
          "type": "string",
          "description": "A brief description about the source dataset used in creating the data identified by the data quality scope.",
          "translation": {
            "ISO 19115-2": [
              "LI_Source \u003e description"
            ]
          }
        },
        "sourceCitation": {
          "description": "A citation providing information about the source dataset, including an online resource or other access instructions.",
          "translation": {
            "ISO 19115-2": [
              "LI_Source \u003e sourceCitation \u003e CI_Citation"
            ],
            "FGDC CSDGM": [
              "dataqual \u003e lineage \u003e srcinfo \u003e srccite \u003e citeinfo"
            ]
          },
          "$ref": "citation.json#"
        },
        "metadataCitation": {
          "type": "array",
          "description": "Citation providing information about the metadata for the source.",
          "translation": {},
          "items": {
            "$ref": "citation.json#"
          }
        },
        "spatialResolution": {
          "$ref": "./spatialResolution.json#",
          "description": "The number below the line in a vulgar fraction",
          "translation": {}
        },
        "referenceSystem": {
          "$ref": "./spatialReference.json#",
          "description": "Spatial reference system used by the source.",
          "translation": {}
        },
        "sourceProcessStep": {
          "type": "array",
          "description": "A description of a non-trivial event or transformation taken to prepare the source data for use in creating the data identified by the data quality scope.",
          "translation": {
            "ISO 19115-2": [
              "LI_Source \u003e sourceStep \u003e LI_ProcessStep"
            ]
          },
          "items": {
            "$ref": "#/definitions/processStep"
          }
        },
        "scope": {
          "$ref": "./scope.json#",
          "description": "Type of resource and/or extent to which the process information.",
          "translation": {}
        }
      }
    }
  }
}