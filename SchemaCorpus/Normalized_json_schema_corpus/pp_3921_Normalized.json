{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://www.cornutum.org/tcases/project-schema.json",
  "title": "System Test Project Model",
  "description": "Defines the collection of resources used to generate test cases for a specific project (version: ${project.version})",
  "type": "object",
  "properties": {
    "refBase": {
      "type": "string",
      "format": "uri"
    },
    "inputDef": {
      "oneOf": [
        {
          "$ref": "#/definitions/system-input-schema.json"
        },
        {
          "type": "string",
          "format": "uri-reference"
        }
      ]
    },
    "generators": {
      "oneOf": [
        {
          "$ref": "#/definitions/generators-schema.json"
        },
        {
          "type": "string",
          "format": "uri-reference"
        }
      ]
    },
    "baseTests": {
      "oneOf": [
        {
          "$ref": "#/definitions/system-test-schema.json"
        },
        {
          "type": "string",
          "format": "uri-reference"
        }
      ]
    }
  },
  "required": [
    "inputDef"
  ],
  "additionalProperties": false,
  "definitions": {
    "system-input-schema.json": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "System Input Model",
      "description": "Defines the input space for a system (version: 3.7.0)",
      "type": "object",
      "properties": {
        "system": {
          "type": "string"
        },
        "has": {
          "$ref": "#/definitions/system-input-schema.json_definitions_annotation"
        }
      },
      "required": [
        "system"
      ],
      "additionalProperties": {
        "$ref": "#/definitions/system-input-schema.json_definitions_function"
      },
      "definitions": {
        "annotation": {
          "description": "Defines a set of output annotations",
          "type": "object",
          "patternProperties": {
            ".": {
              "type": "string"
            }
          },
          "minProperties": 1
        },
        "function": {
          "description": "Defines the input space for a system function",
          "type": "object",
          "properties": {
            "has": {
              "$ref": "#/definitions/system-input-schema.json_definitions_annotation"
            }
          },
          "additionalProperties": {
            "$ref": "#/definitions/system-input-schema.json_definitions_inputDef"
          }
        },
        "inputDef": {
          "description": "Defines a collection of input variables of the same type",
          "type": "object",
          "properties": {
            "has": {
              "$ref": "#/definitions/system-input-schema.json_definitions_annotation"
            }
          },
          "additionalProperties": {
            "$ref": "#/definitions/system-input-schema.json_definitions_varDef"
          }
        },
        "varDef": {
          "type": "object",
          "properties": {
            "has": {
              "$ref": "#/definitions/system-input-schema.json_definitions_annotation"
            },
            "when": {
              "$ref": "#/definitions/system-input-schema.json_definitions_condition"
            },
            "values": {
              "type": "object",
              "minProperties": 1,
              "patternProperties": {
                ".": {
                  "$ref": "#/definitions/system-input-schema.json_definitions_valueDef"
                }
              }
            },
            "members": {
              "type": "object",
              "minProperties": 1,
              "patternProperties": {
                ".": {
                  "$ref": "#/definitions/system-input-schema.json_definitions_varDef"
                }
              }
            }
          },
          "additionalProperties": false,
          "oneOf": [
            {
              "required": [
                "values"
              ],
              "properties": {
                "members": false
              }
            },
            {
              "required": [
                "members"
              ],
              "properties": {
                "values": false
              }
            }
          ]
        },
        "valueDef": {
          "description": "Defines a value for an input variable",
          "type": "object",
          "properties": {
            "has": {
              "$ref": "#/definitions/system-input-schema.json_definitions_annotation"
            },
            "when": {
              "$ref": "#/definitions/system-input-schema.json_definitions_condition"
            },
            "failure": {
              "type": "boolean"
            },
            "once": {
              "type": "boolean"
            },
            "properties": {
              "type": "array",
              "minItems": 1,
              "uniqueItems": true,
              "items": {
                "type": "string"
              }
            }
          }
        },
        "condition": {
          "description": "Defines a constraint on the values allowed for an input variable",
          "type": "object",
          "properties": {
            "hasAll": {
              "type": "array",
              "minItems": 1,
              "uniqueItems": true,
              "items": {
                "type": "string"
              }
            },
            "hasAny": {
              "type": "array",
              "minItems": 1,
              "uniqueItems": true,
              "items": {
                "type": "string"
              }
            },
            "hasNone": {
              "type": "array",
              "minItems": 1,
              "uniqueItems": true,
              "items": {
                "type": "string"
              }
            },
            "allOf": {
              "type": "array",
              "minItems": 1,
              "uniqueItems": true,
              "items": {
                "$ref": "#/definitions/system-input-schema.json_definitions_condition"
              }
            },
            "anyOf": {
              "type": "array",
              "minItems": 1,
              "uniqueItems": true,
              "items": {
                "$ref": "#/definitions/system-input-schema.json_definitions_condition"
              }
            },
            "not": {
              "$ref": "#/definitions/system-input-schema.json_definitions_condition"
            },
            "lessThan": {
              "type": "object",
              "properties": {
                "property": {
                  "type": "string"
                },
                "max": {
                  "type": "integer",
                  "minimum": 0
                }
              },
              "required": [
                "property",
                "max"
              ]
            },
            "notLessThan": {
              "type": "object",
              "properties": {
                "property": {
                  "type": "string"
                },
                "min": {
                  "type": "integer",
                  "minimum": 0
                }
              },
              "required": [
                "property",
                "min"
              ]
            },
            "moreThan": {
              "type": "object",
              "properties": {
                "property": {
                  "type": "string"
                },
                "min": {
                  "type": "integer",
                  "minimum": 0
                }
              },
              "required": [
                "property",
                "min"
              ]
            },
            "notMoreThan": {
              "type": "object",
              "properties": {
                "property": {
                  "type": "string"
                },
                "max": {
                  "type": "integer",
                  "minimum": 0
                }
              },
              "required": [
                "property",
                "max"
              ]
            },
            "equals": {
              "type": "object",
              "properties": {
                "property": {
                  "type": "string"
                },
                "count": {
                  "type": "integer",
                  "minimum": 0
                }
              },
              "required": [
                "property",
                "count"
              ]
            },
            "between": {
              "type": "object",
              "properties": {
                "property": {
                  "type": "string"
                },
                "min": {
                  "type": "integer",
                  "minimum": 0
                },
                "exclusiveMin": {
                  "type": "integer",
                  "minimum": 0
                },
                "max": {
                  "type": "integer",
                  "minimum": 0
                },
                "exclusiveMax": {
                  "type": "integer",
                  "minimum": 0
                }
              },
              "required": [
                "property"
              ],
              "minProperties": 3,
              "maxProperties": 3,
              "dependencies": {
                "min": {
                  "properties": {
                    "exclusiveMin": false
                  }
                },
                "max": {
                  "properties": {
                    "exclusiveMax": false
                  }
                }
              }
            }
          },
          "minProperties": 1,
          "maxProperties": 1,
          "additionalProperties": false
        }
      }
    },
    "system-input-schema.json_definitions_annotation": {
      "description": "Defines a set of output annotations",
      "type": "object",
      "patternProperties": {
        ".": {
          "type": "string"
        }
      },
      "minProperties": 1
    },
    "system-input-schema.json_definitions_function": {
      "description": "Defines the input space for a system function",
      "type": "object",
      "properties": {
        "has": {
          "$ref": "#/definitions/system-input-schema.json_definitions_annotation"
        }
      },
      "additionalProperties": {
        "$ref": "#/definitions/system-input-schema.json_definitions_inputDef"
      }
    },
    "system-input-schema.json_definitions_inputDef": {
      "description": "Defines a collection of input variables of the same type",
      "type": "object",
      "properties": {
        "has": {
          "$ref": "#/definitions/system-input-schema.json_definitions_annotation"
        }
      },
      "additionalProperties": {
        "$ref": "#/definitions/system-input-schema.json_definitions_varDef"
      }
    },
    "system-input-schema.json_definitions_varDef": {
      "type": "object",
      "properties": {
        "has": {
          "$ref": "#/definitions/system-input-schema.json_definitions_annotation"
        },
        "when": {
          "$ref": "#/definitions/system-input-schema.json_definitions_condition"
        },
        "values": {
          "type": "object",
          "minProperties": 1,
          "patternProperties": {
            ".": {
              "$ref": "#/definitions/system-input-schema.json_definitions_valueDef"
            }
          }
        },
        "members": {
          "type": "object",
          "minProperties": 1,
          "patternProperties": {
            ".": {
              "$ref": "#/definitions/system-input-schema.json_definitions_varDef"
            }
          }
        }
      },
      "additionalProperties": false,
      "oneOf": [
        {
          "required": [
            "values"
          ],
          "properties": {
            "members": false
          }
        },
        {
          "required": [
            "members"
          ],
          "properties": {
            "values": false
          }
        }
      ]
    },
    "system-input-schema.json_definitions_condition": {
      "description": "Defines a constraint on the values allowed for an input variable",
      "type": "object",
      "properties": {
        "hasAll": {
          "type": "array",
          "minItems": 1,
          "uniqueItems": true,
          "items": {
            "type": "string"
          }
        },
        "hasAny": {
          "type": "array",
          "minItems": 1,
          "uniqueItems": true,
          "items": {
            "type": "string"
          }
        },
        "hasNone": {
          "type": "array",
          "minItems": 1,
          "uniqueItems": true,
          "items": {
            "type": "string"
          }
        },
        "allOf": {
          "type": "array",
          "minItems": 1,
          "uniqueItems": true,
          "items": {
            "$ref": "#/definitions/system-input-schema.json_definitions_condition"
          }
        },
        "anyOf": {
          "type": "array",
          "minItems": 1,
          "uniqueItems": true,
          "items": {
            "$ref": "#/definitions/system-input-schema.json_definitions_condition"
          }
        },
        "not": {
          "$ref": "#/definitions/system-input-schema.json_definitions_condition"
        },
        "lessThan": {
          "type": "object",
          "properties": {
            "property": {
              "type": "string"
            },
            "max": {
              "type": "integer",
              "minimum": 0
            }
          },
          "required": [
            "property",
            "max"
          ]
        },
        "notLessThan": {
          "type": "object",
          "properties": {
            "property": {
              "type": "string"
            },
            "min": {
              "type": "integer",
              "minimum": 0
            }
          },
          "required": [
            "property",
            "min"
          ]
        },
        "moreThan": {
          "type": "object",
          "properties": {
            "property": {
              "type": "string"
            },
            "min": {
              "type": "integer",
              "minimum": 0
            }
          },
          "required": [
            "property",
            "min"
          ]
        },
        "notMoreThan": {
          "type": "object",
          "properties": {
            "property": {
              "type": "string"
            },
            "max": {
              "type": "integer",
              "minimum": 0
            }
          },
          "required": [
            "property",
            "max"
          ]
        },
        "equals": {
          "type": "object",
          "properties": {
            "property": {
              "type": "string"
            },
            "count": {
              "type": "integer",
              "minimum": 0
            }
          },
          "required": [
            "property",
            "count"
          ]
        },
        "between": {
          "type": "object",
          "properties": {
            "property": {
              "type": "string"
            },
            "min": {
              "type": "integer",
              "minimum": 0
            },
            "exclusiveMin": {
              "type": "integer",
              "minimum": 0
            },
            "max": {
              "type": "integer",
              "minimum": 0
            },
            "exclusiveMax": {
              "type": "integer",
              "minimum": 0
            }
          },
          "required": [
            "property"
          ],
          "minProperties": 3,
          "maxProperties": 3,
          "dependencies": {
            "min": {
              "properties": {
                "exclusiveMin": false
              }
            },
            "max": {
              "properties": {
                "exclusiveMax": false
              }
            }
          }
        }
      },
      "minProperties": 1,
      "maxProperties": 1,
      "additionalProperties": false
    },
    "system-input-schema.json_definitions_valueDef": {
      "description": "Defines a value for an input variable",
      "type": "object",
      "properties": {
        "has": {
          "$ref": "#/definitions/system-input-schema.json_definitions_annotation"
        },
        "when": {
          "$ref": "#/definitions/system-input-schema.json_definitions_condition"
        },
        "failure": {
          "type": "boolean"
        },
        "once": {
          "type": "boolean"
        },
        "properties": {
          "type": "array",
          "minItems": 1,
          "uniqueItems": true,
          "items": {
            "type": "string"
          }
        }
      }
    },
    "generators-schema.json": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "System Test Coverage Model",
      "description": "Defines the test coverage generators for a system (version: 3.7.0)",
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/generators-schema.json_definitions_tupleGenerator"
      },
      "definitions": {
        "tupleGenerator": {
          "description": "Defines a tuple coverage generator",
          "type": "object",
          "properties": {
            "tuples": {
              "type": "integer",
              "minimum": 0
            },
            "seed": {
              "type": "integer"
            },
            "combiners": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/generators-schema.json_definitions_combiner"
              }
            }
          },
          "additionalProperties": false
        },
        "combiner": {
          "description": "Defines tuple combinations for a set of variables",
          "type": "object",
          "minProperties": 1,
          "properties": {
            "tuples": {
              "type": "integer",
              "minimum": 0
            },
            "include": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "minItems": 1
            },
            "exclude": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "minItems": 1
            },
            "once": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "minProperties": 1
              },
              "minItems": 1
            }
          },
          "additionalProperties": false
        }
      }
    },
    "generators-schema.json_definitions_tupleGenerator": {
      "description": "Defines a tuple coverage generator",
      "type": "object",
      "properties": {
        "tuples": {
          "type": "integer",
          "minimum": 0
        },
        "seed": {
          "type": "integer"
        },
        "combiners": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/generators-schema.json_definitions_combiner"
          }
        }
      },
      "additionalProperties": false
    },
    "generators-schema.json_definitions_combiner": {
      "description": "Defines tuple combinations for a set of variables",
      "type": "object",
      "minProperties": 1,
      "properties": {
        "tuples": {
          "type": "integer",
          "minimum": 0
        },
        "include": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "exclude": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "once": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "minProperties": 1
          },
          "minItems": 1
        }
      },
      "additionalProperties": false
    },
    "system-test-schema.json": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "System Test Model",
      "description": "Defines test cases for a system (version: 3.7.0)",
      "type": "object",
      "properties": {
        "system": {
          "type": "string"
        },
        "has": {
          "$ref": "#/definitions/system-test-schema.json_definitions_annotation"
        }
      },
      "required": [
        "system"
      ],
      "additionalProperties": {
        "$ref": "#/definitions/system-test-schema.json_definitions_function"
      },
      "definitions": {
        "annotation": {
          "description": "Defines a set of output annotations",
          "type": "object",
          "patternProperties": {
            ".": {
              "type": "string"
            }
          },
          "minProperties": 1
        },
        "function": {
          "description": "Defines the test cases for a system function",
          "oneOf": [
            {
              "description": "Deprecated: For compatibility with version\u003c\u003d3.0.1",
              "type": "array",
              "items": {
                "$ref": "#/definitions/system-test-schema.json_definitions_testCase"
              }
            },
            {
              "type": "object",
              "properties": {
                "testCases": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/system-test-schema.json_definitions_testCase"
                  }
                },
                "has": {
                  "$ref": "#/definitions/system-test-schema.json_definitions_annotation"
                }
              },
              "required": [
                "testCases"
              ]
            }
          ]
        },
        "testCase": {
          "description": "Defines a test case for a system function",
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "minimum": 0
            },
            "name": {
              "type": "string"
            },
            "has": {
              "$ref": "#/definitions/system-test-schema.json_definitions_annotation"
            }
          },
          "additionalProperties": {
            "$ref": "#/definitions/system-test-schema.json_definitions_inputDef"
          },
          "required": [
            "id"
          ]
        },
        "inputDef": {
          "description": "Defines bindings for a set of input variables of the same type",
          "type": "object",
          "minProperties": 1,
          "patternProperties": {
            ".": {
              "$ref": "#/definitions/system-test-schema.json_definitions_bindingDef"
            }
          }
        },
        "bindingDef": {
          "type": "object",
          "properties": {
            "has": {
              "$ref": "#/definitions/system-test-schema.json_definitions_annotation"
            },
            "value": {
              "type": "string"
            },
            "NA": {
              "type": "boolean"
            },
            "failure": {
              "type": "boolean"
            }
          },
          "additionalProperties": false,
          "oneOf": [
            {
              "required": [
                "value"
              ],
              "properties": {
                "NA": false
              }
            },
            {
              "required": [
                "NA"
              ],
              "properties": {
                "value": false,
                "failure": false
              }
            }
          ]
        }
      }
    },
    "system-test-schema.json_definitions_annotation": {
      "description": "Defines a set of output annotations",
      "type": "object",
      "patternProperties": {
        ".": {
          "type": "string"
        }
      },
      "minProperties": 1
    },
    "system-test-schema.json_definitions_function": {
      "description": "Defines the test cases for a system function",
      "oneOf": [
        {
          "description": "Deprecated: For compatibility with version\u003c\u003d3.0.1",
          "type": "array",
          "items": {
            "$ref": "#/definitions/system-test-schema.json_definitions_testCase"
          }
        },
        {
          "type": "object",
          "properties": {
            "testCases": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/system-test-schema.json_definitions_testCase"
              }
            },
            "has": {
              "$ref": "#/definitions/system-test-schema.json_definitions_annotation"
            }
          },
          "required": [
            "testCases"
          ]
        }
      ]
    },
    "system-test-schema.json_definitions_testCase": {
      "description": "Defines a test case for a system function",
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "minimum": 0
        },
        "name": {
          "type": "string"
        },
        "has": {
          "$ref": "#/definitions/system-test-schema.json_definitions_annotation"
        }
      },
      "additionalProperties": {
        "$ref": "#/definitions/system-test-schema.json_definitions_inputDef"
      },
      "required": [
        "id"
      ]
    },
    "system-test-schema.json_definitions_inputDef": {
      "description": "Defines bindings for a set of input variables of the same type",
      "type": "object",
      "minProperties": 1,
      "patternProperties": {
        ".": {
          "$ref": "#/definitions/system-test-schema.json_definitions_bindingDef"
        }
      }
    },
    "system-test-schema.json_definitions_bindingDef": {
      "type": "object",
      "properties": {
        "has": {
          "$ref": "#/definitions/system-test-schema.json_definitions_annotation"
        },
        "value": {
          "type": "string"
        },
        "NA": {
          "type": "boolean"
        },
        "failure": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "oneOf": [
        {
          "required": [
            "value"
          ],
          "properties": {
            "NA": false
          }
        },
        {
          "required": [
            "NA"
          ],
          "properties": {
            "value": false,
            "failure": false
          }
        }
      ]
    }
  }
}