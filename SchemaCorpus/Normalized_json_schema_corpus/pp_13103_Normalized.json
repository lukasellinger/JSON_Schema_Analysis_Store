{
  "@context": "http://qiicr.org/dcmqi/contexts/dcmqi.jsonld",
  "id": "https://raw.githubusercontent.com/qiicr/dcmqi/master/doc/schemas/pm-schema.json#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "required": [
    "AnatomicRegionSequence",
    "FrameLaterality",
    "QuantityValueCode",
    "MeasurementUnitsCode",
    "DerivationCode"
  ],
  "additionalProperties": false,
  "properties": {
    "@schema": {
      "type": "string"
    },
    "SeriesDescription": {
      "allOf": [
        {
          "$ref": "#/definitions/common-schema.json_definitions_LO"
        }
      ],
      "default": "Parametric map"
    },
    "SeriesNumber": {
      "allOf": [
        {
          "$ref": "#/definitions/common-schema.json_definitions_IS"
        }
      ],
      "default": "300"
    },
    "InstanceNumber": {
      "allOf": [
        {
          "$ref": "#/definitions/common-schema.json_definitions_IS"
        }
      ],
      "default": "1"
    },
    "BodyPartExamined": {
      "allOf": [
        {
          "$ref": "#/definitions/common-schema.json_definitions_CS"
        }
      ],
      "default": ""
    },
    "QuantityValueCode": {
      "$ref": "#/definitions/common-schema.json_definitions_codeSequence"
    },
    "MeasurementUnitsCode": {
      "$ref": "#/definitions/common-schema.json_definitions_codeSequence"
    },
    "MeasurementMethodCode": {
      "$ref": "#/definitions/common-schema.json_definitions_codeSequence"
    },
    "ModelFittingMethodCode": {
      "$ref": "#/definitions/common-schema.json_definitions_codeSequence"
    },
    "DerivationCode": {
      "$ref": "#/definitions/common-schema.json_definitions_codeSequence"
    },
    "DerivationDescription": {
      "type": "string",
      "default": ""
    },
    "SourceImageDiffusionBValues": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string"
      }
    },
    "RealWorldValueSlope": {
      "$ref": "#/definitions/common-schema.json_definitions_FD",
      "default": "1.0"
    },
    "AnatomicRegionSequence": {
      "$ref": "#/definitions/common-schema.json_definitions_codeSequence"
    },
    "FrameLaterality": {
      "$ref": "#/definitions/common-schema.json_definitions_CS",
      "default": "U"
    }
  },
  "definitions": {
    "common-schema.json_definitions_LO": {
      "type": "string",
      "maxLength": 64
    },
    "common-schema.json_definitions_IS": {
      "type": "string",
      "maxLength": 12
    },
    "common-schema.json_definitions_CS": {
      "type": "string",
      "maxLength": 16
    },
    "common-schema.json_definitions_codeSequence": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "CodeValue",
        "CodingSchemeDesignator",
        "CodeMeaning"
      ],
      "properties": {
        "CodeValue": {
          "$ref": "#/definitions/common-schema.json_definitions_SH",
          "default": "85756007"
        },
        "CodingSchemeDesignator": {
          "$ref": "#/definitions/common-schema.json_definitions_SH",
          "default": "SCT"
        },
        "CodeMeaning": {
          "$ref": "#/definitions/common-schema.json_definitions_LO",
          "default": "Tissue"
        }
      }
    },
    "common-schema.json_definitions_SH": {
      "type": "string",
      "maxLength": 64
    },
    "common-schema.json_definitions_FD": {
      "type": "string",
      "maxLength": 16,
      "pattern": "^( )*(-|\\+)?[0-9]*(.[0-9]+)?((e|E)(-|\\+)?[0-9]+)?( )*$"
    }
  }
}