{
  "title": "Ground",
  "type": "object",
  "$schema": "http://json-schema.org/draft-04/schema",
  "description": "Ground defines the main surface of the web scene, based on elevation layers.",
  "properties": {
    "layers": {
      "type": "array",
      "description": "An array of elevationLayer objects defining the elevation of the ground in the web scene.",
      "items": {
        "type": "object",
        "$ref": "#/definitions/elevationLayers_schema.json"
      },
      "uniqueItems": true
    },
    "navigationConstraint": {
      "description": "Object determining whether the camera is constrained to navigate only above, or also under the ground surface. If not specified, navigation is constrained to above ground.",
      "$ref": "#/definitions/navigationConstraint_schema.json"
    },
    "surfaceColor": {
      "description": "Defines the color of the ground surface, displayed underneath the basemap. If no color, the default grid is shown.",
      "$ref": "#/definitions/color_schema.json"
    },
    "transparency": {
      "type": "integer",
      "description": "The transparency of the ground surface. It is used for seeing through the ground, therefore this property also changes the transparency of the basemap. Draped operational layers are not affected by this property. The value has to lie between `100` (full transparency) and `0` (full opacity).",
      "minimum": 0,
      "maximum": 100
    }
  },
  "required": [
    "layers"
  ],
  "additionalProperties": false,
  "esriDocumentation": {
    "examples": [
      {
        "title": "ground",
        "code": {
          "ground": {
            "layers": [
              {
                "listMode": "hide",
                "title": "Terrain3D",
                "url": "https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",
                "visibility": true,
                "layerType": "ArcGISTiledElevationServiceLayer"
              }
            ],
            "navigationConstraint": {
              "type": "none"
            },
            "transparency": 30,
            "surfaceColor": [
              0,
              0,
              0
            ]
          }
        }
      }
    ]
  },
  "definitions": {
    "elevationLayers_schema.json": {
      "title": "elevationLayers",
      "type": "object",
      "$schema": "http://json-schema.org/draft-04/schema",
      "description": "Elevation layers provide elevation for the ground.",
      "oneOf": [
        {
          "$ref": "#/definitions/rasterDataElevationLayer_schema.json"
        },
        {
          "$ref": "#/definitions/tiledElevationLayer_schema.json"
        }
      ]
    },
    "rasterDataElevationLayer_schema.json": {
      "title": "Raster Data Elevation Layer",
      "type": "object",
      "$schema": "http://json-schema.org/draft-04/schema",
      "description": "RasterDataElevationLayer is a single-band raster layer used for rendering elevation.",
      "properties": {
        "id": {
          "type": "string",
          "description": "A unique identifying string for the layer"
        },
        "layerType": {
          "type": "string",
          "description": "String indicating the layer type",
          "enum": [
            "RasterDataElevationLayer"
          ]
        },
        "listMode": {
          "type": "string",
          "description": "To show or hide the elevation layer in the layer list",
          "enum": [
            "hide",
            "show"
          ]
        },
        "path": {
          "type": "string",
          "description": "For offline data, a path to an ArcGIS Runtime supported raster data file. A URI format is used, starting with file: followed by a file system path. A relative path must be from the file which defines the layer. For example `file:../commondata/raster_data/beijing.tif`",
          "pattern": "^file:.+$"
        },
        "title": {
          "type": "string",
          "description": "A user-friendly string title for the layer that can be used in a table of contents. If this is not included, a title is derived from the service."
        },
        "visibility": {
          "type": "boolean",
          "description": "Boolean property determining whether the layer is initially visible in the web scene.",
          "default": true
        }
      },
      "required": [
        "id",
        "layerType",
        "path",
        "title"
      ],
      "additionalProperties": false,
      "esriDocumentation": {
        "examples": [
          {
            "title": "Raster Data Elevation Layer",
            "schema": "ground_schema.json",
            "code": {
              "ground": {
                "layers": [
                  {
                    "title": "Local DEM",
                    "path": "file:../commondata/DEM.tif",
                    "visibility": true,
                    "layerType": "RasterDataElevationLayer"
                  }
                ]
              }
            }
          }
        ]
      }
    },
    "tiledElevationLayer_schema.json": {
      "title": "Tiled Elevation Layer",
      "type": "object",
      "$schema": "http://json-schema.org/draft-04/schema",
      "description": "Tiled Elevation Layer is a tile layer used for rendering elevation.",
      "properties": {
        "id": {
          "type": "string",
          "description": "A unique identifying string for the layer"
        },
        "itemId": {
          "type": "string",
          "description": "Optional string containing the item ID of the service if it\u0027s registered on ArcGIS Online or your organization\u0027s portal."
        },
        "layerType": {
          "type": "string",
          "description": "String indicating the layer type",
          "enum": [
            "ArcGISTiledElevationServiceLayer"
          ]
        },
        "listMode": {
          "type": "string",
          "description": "To show or hide the elevation layer in the layer list",
          "enum": [
            "hide",
            "show"
          ]
        },
        "path": {
          "type": "string",
          "description": "For offline data, a path to a tile package containing elevation data. A URI format is used, starting with `file:` followed by a file system path with an extension of `.tpk` or `.tpkx`. A relative path must be from the file which defines the layer. For example `file:../p20/portland.tpk`.",
          "pattern": "^file:.+\\.tpkx?$"
        },
        "title": {
          "type": "string",
          "description": "A user-friendly string title for the layer that can be used in a table of contents. If this is not included, a title is derived from the service."
        },
        "url": {
          "type": "string",
          "description": "The URL to the layer.If the layer is not from a web service but rather a feature collection, then the url property is omitted",
          "format": "uri"
        },
        "visibility": {
          "type": "boolean",
          "description": "Boolean property determining whether the layer is initially visible in the web scene.",
          "default": true
        }
      },
      "anyOf": [
        {
          "required": [
            "id",
            "layerType",
            "title",
            "url"
          ]
        },
        {
          "required": [
            "id",
            "layerType",
            "path",
            "title"
          ]
        }
      ],
      "additionalProperties": false,
      "esriDocumentation": {
        "examples": [
          {
            "title": "Tiled Elevation Layer",
            "description": "Live sample web scene showing [elevationLayers](https://www.arcgis.com/home/webscene/viewer.html?webscene\u003da06aa4a2e4264b789686e66a75d863ca)",
            "schema": "ground_schema.json",
            "code": {
              "ground": {
                "layers": [
                  {
                    "title": "Terrain3D",
                    "url": "http://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",
                    "visibility": true,
                    "layerType": "ArcGISTiledElevationServiceLayer"
                  }
                ]
              }
            }
          }
        ]
      }
    },
    "navigationConstraint_schema.json": {
      "title": "Navigation Constraint",
      "type": "object",
      "$schema": "http://json-schema.org/draft-04/schema",
      "description": "Object determining whether the camera is constrained to navigate only above, or also under the ground surface.",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "none",
            "stayAbove"
          ]
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false
    },
    "color_schema.json": {
      "title": "color",
      "type": "array",
      "$schema": "http://json-schema.org/draft-04/schema",
      "description": "Color is represented as a three or four-element array. The four elements represent values for red, green, blue, and alpha in that order. Values range from 0 through 255. If color is undefined for a symbol, the color value is null.",
      "items": {
        "type": "integer",
        "minimum": 0,
        "maximum": 255
      },
      "minItems": 3,
      "maxItems": 4,
      "additionalProperties": false,
      "esriDocumentation": {
        "examples": [
          {
            "title": "color",
            "code": {
              "color": [
                13,
                38,
                68,
                255
              ]
            }
          }
        ]
      }
    }
  }
}