{
  "title": "ColorInfo Visual Variable",
  "type": "object",
  "$schema": "http://json-schema.org/draft-04/schema",
  "description": "The colorInfo visual variable defines how a continuous color ramp is applied to features based on the values of a numeric field attribute.",
  "properties": {
    "field": {
      "type": "string",
      "description": "Attribute field used for color rendering if no valueExpression is provided."
    },
    "legendOptions": {
      "type": "object",
      "$ref": "#/definitions/visualVariableLegendOptions_schema.json"
    },
    "normalizationField": {
      "type": "string",
      "description": "Attribute field used to normalize the data."
    },
    "stops": {
      "type": "array",
      "description": "An array of stop objects.",
      "items": {
        "type": "object",
        "$ref": "#/definitions/colorStop_schema.json"
      }
    },
    "type": {
      "type": "string",
      "description": "Specifies the type of visual variable.",
      "enum": [
        "colorInfo"
      ]
    },
    "valueExpression": {
      "type": "string",
      "description": "An [Arcade expression](https://developers.arcgis.com/arcade/) that computes a value in lieu of a value provided by an attribute `field`."
    },
    "valueExpressionTitle": {
      "type": "string",
      "description": "The title identifying and describing the associated [Arcade](https://developers.arcgis.com/arcade/) expression as defined in the `valueExpression` property."
    }
  },
  "required": [
    "type"
  ],
  "additionalProperties": false,
  "esriDocumentation": {
    "examples": [
      {
        "title": "colorInfo",
        "description": "Live sample web scene showing [use of the colorInfo visual variable](https://www.arcgis.com/home/webscene/viewer.html?webscene\u003ded2892fef34b43b8a5cc61c8ff890c6f).",
        "code": {
          "visualVariables": [
            {
              "type": "colorInfo",
              "field": "M086_07",
              "stops": [
                {
                  "value": -99,
                  "color": [
                    255,
                    252,
                    212,
                    255
                  ],
                  "label": "\u003c -99"
                },
                {
                  "value": 705950,
                  "color": [
                    177,
                    205,
                    194,
                    255
                  ]
                },
                {
                  "value": 1411999,
                  "color": [
                    98,
                    158,
                    176,
                    255
                  ],
                  "label": "1,411,999"
                },
                {
                  "value": 2578189,
                  "color": [
                    56,
                    98,
                    122,
                    255
                  ]
                },
                {
                  "value": 3744380,
                  "color": [
                    13,
                    38,
                    68,
                    255
                  ],
                  "label": "\u003e 3,744,380"
                }
              ]
            }
          ]
        }
      }
    ]
  },
  "definitions": {
    "visualVariableLegendOptions_schema.json": {
      "title": "Visual Variable Legend Options",
      "type": "object",
      "$schema": "http://json-schema.org/draft-04/schema",
      "description": "Options available for the legend for visual variables.",
      "properties": {
        "showLegend": {
          "type": "boolean",
          "description": "Indicates whether to show the color/size/opacity ramp in the legend."
        },
        "title": {
          "type": "string",
          "description": "The title of the legend."
        }
      }
    },
    "colorStop_schema.json": {
      "title": "colorStop",
      "$schema": "http://json-schema.org/draft-04/schema",
      "description": "A colorStop object describes the renderer\u0027s color ramp with more specificity than just colors.",
      "properties": {
        "color": {
          "description": "A CSS color string or an array of rbga values. The color to place at the stop indicated by either a ratio or value.",
          "$ref": "#/definitions/color_schema.json"
        },
        "label": {
          "type": "string",
          "description": "Value if a label is needed on the legend for a stop."
        },
        "value": {
          "type": "number",
          "description": "The pixel intensity value. Describes the pixel intensity value that the color should be associated with. Just like in colorInfo, using value will ignore `maxPixelIntensity` and `minPixelIntensity` properties. It will actually set those properties to maximum and minimum values you set in the colorStops array. The hard values are converted to ratios to create the color gradient that is used in the heatmap calculations. Setting `minPixelIntensity` or `maxPixelIntensity`, after setting colorStops with values, removes the hard link between the color ramp and the pixel intensity values that were used to create it."
        }
      },
      "required": [
        "color",
        "value"
      ],
      "esriDocumentation": {
        "examples": [
          {
            "title": "colorStops",
            "code": {
              "stop": {
                "value": 8035,
                "color": [
                  255,
                  252,
                  212,
                  255
                ],
                "label": "\u003c 8,035"
              }
            }
          }
        ]
      }
    },
    "color_schema.json": {
      "title": "color",
      "type": "array",
      "$schema": "http://json-schema.org/draft-04/schema",
      "description": "Color is represented as a three or four-element array. The four elements represent values for red, green, blue, and alpha in that order. Values range from 0 through 255. If color is undefined for a symbol, the color value is null.",
      "items": {
        "type": "integer",
        "minimum": 0,
        "maximum": 255
      },
      "minItems": 3,
      "maxItems": 4,
      "additionalProperties": false,
      "esriDocumentation": {
        "examples": [
          {
            "title": "color",
            "code": {
              "color": [
                13,
                38,
                68,
                255
              ]
            }
          }
        ]
      }
    }
  }
}