{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://raw.githubusercontent.com/OpenLightingProject/open-fixture-library/master/schemas/definitions.json",
  "$comment": "This file is used by another schema file and should not be used directly as a JSON schema.",
  "nonEmptyString": {
    "type": "string",
    "pattern": "^[^\n]+$"
  },
  "noVariablesString": {
    "type": "string",
    "pattern": "^[^$\n]+$"
  },
  "variablePixelKeyString": {
    "type": "string",
    "pattern": "\\$pixelKey"
  },
  "nonEmptyMultilineString": {
    "type": "string",
    "minLength": 1
  },
  "modeNameString": {
    "allOf": [
      {
        "$ref": "#/definitions/nonEmptyString"
      },
      {
        "pattern": "^((?!mode)(?!Mode).)*$"
      }
    ]
  },
  "urlString": {
    "type": "string",
    "pattern": "^(ftp|http|https)://[^ \"]+$",
    "format": "uri"
  },
  "urlArray": {
    "type": "array",
    "minItems": 1,
    "uniqueItems": true,
    "items": {
      "$ref": "#/definitions/urlString"
    }
  },
  "isoDateString": {
    "type": "string",
    "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
    "format": "date"
  },
  "colorString": {
    "type": "string",
    "pattern": "^#[0-9a-f]{6}$",
    "format": "color-hex"
  },
  "dimensionsXYZ": {
    "$comment": "width, height, depth (in mm)",
    "type": "array",
    "minItems": 3,
    "maxItems": 3,
    "items": {
      "type": "number",
      "minimum": 0
    }
  },
  "effectPreset": {
    "enum": [
      "ColorJump",
      "ColorFade"
    ]
  },
  "goboResourceString": {
    "type": "string",
    "oneOf": [
      {
        "pattern": "^gobos/[a-z0-9-]+$"
      },
      {
        "pattern": "^gobos/aliases/[a-z0-9_.-]+/"
      }
    ]
  },
  "units": {
    "number": {
      "type": "number"
    },
    "nonNegativeNumber": {
      "type": "number",
      "minimum": 0
    },
    "positiveInteger": {
      "type": "integer",
      "minimum": 0,
      "exclusiveMinimum": 0
    },
    "dmxValue": {
      "type": "integer",
      "minimum": 0,
      "$comment": "maximum depends on how many fine channels there are (255 if none, 65535 if one, etc.)"
    },
    "dmxValuePercent": {
      "type": "string",
      "pattern": "^(([1-9][0-9]?|0)(\\.[0-9]+)?|100)%$"
    },
    "percent": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?%$"
    },
    "hertz": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?Hz$"
    },
    "beatsPerMinute": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?bpm$"
    },
    "roundsPerMinute": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?rpm$"
    },
    "seconds": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?s$"
    },
    "milliSeconds": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?ms$"
    },
    "meters": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?m$"
    },
    "lumens": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?lm$"
    },
    "kelvin": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?K$"
    },
    "volumePerMinute": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?m\\^3/min$"
    },
    "degrees": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?deg$"
    }
  },
  "entities": {
    "speed": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_hertz"
        },
        {
          "$ref": "#/definitions/units_beatsPerMinute"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "fast",
            "slow",
            "stop",
            "slow reverse",
            "fast reverse"
          ]
        }
      ]
    },
    "rotationSpeed": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_hertz"
        },
        {
          "$ref": "#/definitions/units_roundsPerMinute"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "fast CW",
            "slow CW",
            "stop",
            "slow CCW",
            "fast CCW"
          ]
        }
      ]
    },
    "time": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_seconds"
        },
        {
          "$ref": "#/definitions/units_milliSeconds"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "instant",
            "short",
            "long"
          ]
        }
      ]
    },
    "distance": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_meters"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "near",
            "far"
          ]
        }
      ]
    },
    "brightness": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_lumens"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "off",
            "dark",
            "bright"
          ]
        }
      ]
    },
    "colorTemperature": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_kelvin"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "warm",
            "CTO",
            "default",
            "cold",
            "CTB"
          ]
        }
      ]
    },
    "fogOutput": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_volumePerMinute"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "off",
            "weak",
            "strong"
          ]
        }
      ]
    },
    "rotationAngle": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_degrees"
        },
        {
          "$ref": "#/definitions/units_percent"
        }
      ]
    },
    "beamAngle": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_degrees"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "closed",
            "narrow",
            "wide"
          ]
        }
      ]
    },
    "horizontalAngle": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_degrees"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "left",
            "center",
            "right"
          ]
        }
      ]
    },
    "verticalAngle": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_degrees"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "top",
            "center",
            "bottom"
          ]
        }
      ]
    },
    "swingAngle": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_degrees"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "closed",
            "narrow",
            "wide"
          ]
        }
      ]
    },
    "parameter": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_number"
        },
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "off",
            "low",
            "high",
            "slow",
            "fast",
            "small",
            "big",
            "instant",
            "short",
            "long"
          ]
        }
      ]
    },
    "slotNumber": {
      "$ref": "#/definitions/units_nonNegativeNumber"
    },
    "percent": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "off",
            "low",
            "high"
          ]
        }
      ]
    },
    "insertion": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "out",
            "in"
          ]
        }
      ]
    },
    "irisPercent": {
      "oneOf": [
        {
          "$ref": "#/definitions/units_percent"
        },
        {
          "enum": [
            "closed",
            "open"
          ]
        }
      ]
    }
  },
  "definitions": {
    "nonEmptyString": {
      "type": "string",
      "pattern": "^[^\n]+$"
    },
    "urlString": {
      "type": "string",
      "pattern": "^(ftp|http|https)://[^ \"]+$",
      "format": "uri"
    },
    "units_hertz": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?Hz$"
    },
    "units_beatsPerMinute": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?bpm$"
    },
    "units_percent": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?%$"
    },
    "units_roundsPerMinute": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?rpm$"
    },
    "units_seconds": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?s$"
    },
    "units_milliSeconds": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?ms$"
    },
    "units_meters": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?m$"
    },
    "units_lumens": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?lm$"
    },
    "units_kelvin": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?K$"
    },
    "units_volumePerMinute": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?m\\^3/min$"
    },
    "units_degrees": {
      "type": "string",
      "pattern": "^-?[0-9]+(\\.[0-9]+)?deg$"
    },
    "units_number": {
      "type": "number"
    },
    "units_nonNegativeNumber": {
      "type": "number",
      "minimum": 0
    }
  }
}