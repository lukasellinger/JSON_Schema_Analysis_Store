{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "opinion",
  "description": "An opinion about another object",
  "type": "object",
  "allOf": [
    {
      "$ref": "#/definitions/..\\common\\core.json"
    },
    {
      "$ref": "#/definitions/..\\common\\describable.json"
    },
    {
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "opinion"
          ]
        },
        "object_ref": {
          "$ref": "#/definitions/..\\common\\id.json",
          "description": "The id of the object to which this opinion refers"
        },
        "agreement": {
          "type": "array",
          "description": "The type of opinion being made",
          "items": {
            "enum": [
              "Strongly Agree",
              "Agree",
              "Undecided",
              "Disagree",
              "Strongly Disagree",
              "Unknown"
            ]
          }
        }
      }
    }
  ],
  "definitions": {
    "..\\common\\core.json": {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "title": "core",
      "description": "The base properties used in all top-level types",
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "Hardcoded value to indicate what type of construct this is"
        },
        "id": {
          "$ref": "#/definitions/..\\common\\id.json",
          "description": "Globally unique identifier for this construct."
        },
        "revision": {
          "type": "integer",
          "description": "The revision number of this construct. MUST be omitted if this is the first version, otherwise required."
        },
        "created_at": {
          "$ref": "#/definitions/..\\common\\timestamp.json",
          "description": "Time at which this construct was created."
        },
        "external_ids": {
          "type": "array",
          "description": "A list of external identifiers by which this construct may be known.",
          "items": {
            "type": "object",
            "properties": {
              "source": {
                "type": "string",
                "description": "The source of this ID, i.e. name of an external system."
              },
              "id": {
                "type": "string",
                "description": "ID itself"
              },
              "link": {
                "type": "string",
                "description": "A link to this construct in the external system"
              }
            },
            "required": [
              "source",
              "id"
            ]
          }
        },
        "producer_ref": {
          "$ref": "#/definitions/..\\common\\id.json",
          "description": "ID to the information source that produced this content"
        },
        "marking_refs": {
          "type": "array",
          "description": "The set of markings to be applied to this construct",
          "items": {
            "$ref": "#/definitions/..\\common\\id.json"
          }
        },
        "structured_markings": {
          "type": "array",
          "description": "The set of L2 markings to be applied to this construct",
          "items": {
            "$ref": "#/definitions/..\\common\\core.json_definitions_structured-marking"
          }
        }
      },
      "required": [
        "type",
        "id",
        "created_at",
        "producer_ref"
      ],
      "definitions": {
        "structured-marking": {
          "title": "structured-marking",
          "description": "A single definition of a structured marking",
          "type": "object",
          "properties": {
            "controlled_structures": {
              "type": "array",
              "description": "A list of JSONPath statements, rooted at the top-level object that the structured_markings key is contained in, that the marking_refs apply to.",
              "items": {
                "type": "string"
              }
            },
            "marking_refs": {
              "type": "array",
              "description": "The set of markings applied to the fields selected by the controlled_structures.",
              "items": {
                "$ref": "#/definitions/..\\common\\id.json"
              }
            }
          },
          "required": [
            "controlled_structures",
            "marking_refs"
          ]
        }
      }
    },
    "..\\common\\id.json": {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "title": "id",
      "description": "The format used for all IDs in TWIGS",
      "type": "string",
      "pattern": "^[A-Za-z0-9-]+--[A-Za-z0-9-]{36}$"
    },
    "..\\common\\timestamp.json": {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "title": "timestamp",
      "description": "The formats used for all timestamps and timestamp precisions in TWIGS",
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\\.[0-9]{6}[\\+-][0-9]{2}:[0-9]{2}$",
      "definitions": {
        "precision": {
          "type": "string",
          "enum": [
            "year",
            "month",
            "day",
            "hour",
            "minute",
            "second"
          ]
        }
      }
    },
    "..\\common\\core.json_definitions_structured-marking": {
      "title": "structured-marking",
      "description": "A single definition of a structured marking",
      "type": "object",
      "properties": {
        "controlled_structures": {
          "type": "array",
          "description": "A list of JSONPath statements, rooted at the top-level object that the structured_markings key is contained in, that the marking_refs apply to.",
          "items": {
            "type": "string"
          }
        },
        "marking_refs": {
          "type": "array",
          "description": "The set of markings applied to the fields selected by the controlled_structures.",
          "items": {
            "$ref": "#/definitions/..\\common\\id.json"
          }
        }
      },
      "required": [
        "controlled_structures",
        "marking_refs"
      ]
    },
    "..\\common\\describable.json": {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "title": "describable",
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "description": "A title for this construct"
        },
        "description": {
          "type": "string",
          "description": "A description for this construct"
        }
      },
      "required": [
        "title"
      ]
    }
  }
}