{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "https://github.com/washingtonpost/ans-schema/blob/master/src/main/resources/schema/ans/0.8.0/publication_pitch_operation.json",
  "description": "An operation to add or update a story\u0027s pitch to a WebSked publication.",
  "type": "object",
  "allOf": [
    {
      "properties": {
        "type": {
          "description": "Identifies this as an ANS operation",
          "type": "string",
          "enum": [
            "publication-pitch-operation"
          ]
        },
        "operation": {
          "type": "string",
          "description": "The identifier of the operation being performed",
          "enum": [
            "create",
            "update"
          ]
        },
        "date": {
          "description": "When the operation should be considered performed",
          "type": "string",
          "format": "date-time"
        },
        "id": {
          "type": "string",
          "description": "The id of the item being operated"
        },
        "organization_id": {
          "type": "string",
          "description": "The id of the organization"
        },
        "version": {
          "type": "string",
          "description": "The version of ANS this item is written in"
        },
        "body": {
          "description": "The object being inserted/updated",
          "$ref": "#/definitions/https:__raw.githubusercontent.com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0.8.0_traits_trait_publication_pitch.json"
        }
      },
      "required": [
        "type",
        "operation",
        "id",
        "organization_id",
        "body"
      ]
    }
  ],
  "definitions": {
    "https:__raw.githubusercontent.com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0.8.0_traits_trait_publication_pitch.json": {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "title": "Publication pitch",
      "description": "Trait that represents a pitch to a publication. In the Arc ecosystem, this data is generated by WebSked.",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "additional_properties": {
          "$ref": "#/definitions/https:__raw.githubusercontent.com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0.8.0_traits_trait_additional_properties.json"
        },
        "publication_id": {
          "type": "string",
          "description": "The ID of the publication that this pitch targets."
        },
        "creation_event": {
          "$ref": "#/definitions/https:__raw.githubusercontent.com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0.8.0_traits_trait_publication_pitch_event.json"
        },
        "latest_event": {
          "$ref": "#/definitions/https:__raw.githubusercontent.com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0.8.0_traits_trait_publication_pitch_event.json"
        }
      }
    },
    "https:__raw.githubusercontent.com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0.8.0_traits_trait_additional_properties.json": {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "title": "Has additional properties",
      "description": "A grab-bag object for non-validatable data.",
      "type": "object",
      "additionalProperties": {}
    },
    "https:__raw.githubusercontent.com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0.8.0_traits_trait_publication_pitch_event.json": {
      "$schema": "http://json-schema.org/draft-04/schema#",
      "title": "Publication pitch event",
      "description": "Trait that represents an update event for a pitch to a publication. In the Arc ecosystem, this data is generated by WebSked.",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "additional_properties": {
          "$ref": "#/definitions/https:__raw.githubusercontent.com_washingtonpost_ans-schema_master_src_main_resources_schema_ans_0.8.0_traits_trait_additional_properties.json"
        },
        "status": {
          "type": "string",
          "pattern": "^([a-z]|[ ])*$",
          "description": "The current status of the pitch."
        },
        "time": {
          "type": "string",
          "format": "date-time",
          "description": "The time of this update."
        },
        "user_id": {
          "type": "string",
          "description": "The ID of the user who made this update."
        },
        "note": {
          "type": "string",
          "description": "Optional note associated with this update."
        },
        "edition_id": {
          "type": "string",
          "description": "The ID of the publication edition that this pitch targets."
        },
        "edition_time": {
          "type": "string",
          "format": "date-time",
          "description": "The time of the publication edition that this pitch targets."
        }
      }
    }
  }
}