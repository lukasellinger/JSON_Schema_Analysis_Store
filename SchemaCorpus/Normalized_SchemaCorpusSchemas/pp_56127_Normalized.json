{
  "type": "object",
  "decsription": "Criteria that will be used to search elasticsearch and subsequently sort the results.",
  "properties": {
    "search": {
      "$ref": "#/definitions/search-criteria.json"
    },
    "sort": {
      "$ref": "#/definitions/sort-criteria.json"
    }
  },
  "required": [
    "search"
  ],
  "$schema": "http://json-schema.org/draft-04/schema#",
  "definitions": {
    "search-criteria.json": {
      "type": "array",
      "decription": "Array of objects, each of which represents a search to be performed by the search layer.",
      "items": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string",
            "description": "Field to search."
          },
          "value": {
            "type": "string",
            "description": "Value to search."
          },
          "search_type": {
            "enum": [
              "WILDCARD",
              "MATCH",
              "VERSION"
            ],
            "description": "Type of search to perform. See shelf.search.type.Type."
          }
        },
        "required": [
          "field",
          "value",
          "search_type"
        ]
      },
      "$schema": "http://json-schema.org/draft-04/schema#"
    },
    "sort-criteria.json": {
      "type": "array",
      "decription": "Array of objects, each represents sort to be performed on the results of a search criteria. For mutlisorts the first sort takes precedence.",
      "items": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string",
            "description": "Field to sort by."
          },
          "sort_type": {
            "enum": [
              "ASC",
              "DESC"
            ],
            "description": "Type of sort. See shelf.search.sort_type.SortType"
          },
          "sort_flag": {
            "enum": [
              "VERSION"
            ],
            "description": "Additional sort critieria. See shelf.search.sort_flag.SortFlag"
          }
        },
        "required": [
          "field"
        ]
      },
      "$schema": "http://json-schema.org/draft-04/schema#"
    }
  }
}